/*!
 * validate.js 0.12.0
 * http://validatejs.org/
 * (c) 2013-2015 Nicklas Ansman, 2013 Wrapp
 * validate.js may be freely distributed under the MIT license.
*/

(function(a,b,c){"use strict";var d=function(){var a=0,b=/MSIE (\d+\.\d+);/.test(navigator.userAgent),c=!!navigator.userAgent.match(/Trident\/7.0/),d=navigator.userAgent.indexOf("rv:11.0");return b&&(a=Number(RegExp.$1)),navigator.appVersion.indexOf("MSIE 10")!=-1&&(a=10),c&&d!=-1&&(a=11),a},e=function(a,b,c){c=f.extend({},f.options,c);var d=f.runValidations(a,b,c);if(d.some(function(a){return f.isPromise(a.error)}))throw new Error("Use validate.async if you want support for promises");return e.processValidationResults(d,c)},f=e;f.extend=function(a){return[].slice.call(arguments,1).forEach(function(b){for(var c in b)a[c]=b[c]}),a},f.extend(e,{version:{major:0,minor:12,patch:0,metadata:"development",toString:function(){var a=f.format("%{major}.%{minor}.%{patch}",f.version);return f.isEmpty(f.version.metadata)||(a+="+"+f.version.metadata),a}},Promise:"undefined"!=typeof Promise?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(a,b,c){var d,e,g,h,i,j,k,l=[];(f.isDomElement(a)||f.isJqueryElement(a))&&(a=f.collectFormValues(a));for(d in b){g=f.getDeepObjectValue(a,d),h=f.result(b[d],g,a,d,c,b);for(e in h){if(i=f.validators[e],!i)throw k=f.format("Unknown validator %{name}",{name:e}),new Error(k);j=h[e],j=f.result(j,g,a,d,c,b),j&&l.push({attribute:d,value:g,validator:e,globalOptions:c,attributes:a,options:j,error:i.call(i,g,j,d,a,c)})}}return l},processValidationResults:function(a,b){a=f.pruneEmptyErrors(a,b),a=f.expandMultipleErrors(a,b),a=f.convertErrorMessages(a,b);var c=b.format||"grouped";if("function"!=typeof f.formatters[c])throw new Error(f.format("Unknown format %{format}",b));return a=f.formatters[c](a),f.isEmpty(a)?void 0:a},async:function(a,b,c){c=f.extend({},f.async.options,c);var d=c.wrapErrors||function(a){return a};c.cleanAttributes!==!1&&(a=f.cleanAttributes(a,b));var e=f.runValidations(a,b,c);return new f.Promise(function(g,h){f.waitForResults(e).then(function(){var i=f.processValidationResults(e,c);i?h(new d(i,c,a,b)):g(a)},function(a){h(a)})})},single:function(a,b,c){return c=f.extend({},f.single.options,c,{format:"flat",fullMessages:!1}),f({single:a},{single:b},c)},waitForResults:function(a){return a.reduce(function(a,b){return f.isPromise(b.error)?a.then(function(){return b.error.then(function(a){b.error=a||null})}):a},new f.Promise(function(a){a()}))},result:function(a){var b=[].slice.call(arguments,1);return"function"==typeof a&&(a=a.apply(null,b)),a},isNumber:function(a){return"number"==typeof a&&!isNaN(a)},isFunction:function(a){return"function"==typeof a},isInteger:function(a){return f.isNumber(a)&&a%1===0},isBoolean:function(a){return"boolean"==typeof a},isObject:function(a){return a===Object(a)},isDate:function(a){return a instanceof Date},isDefined:function(a){return null!==a&&void 0!==a},isPromise:function(a){return!!a&&f.isFunction(a.then)},isJqueryElement:function(a){return a&&f.isString(a.jquery)},isDomElement:function(a){return!!a&&(!(!a.querySelectorAll||!a.querySelector)&&(!(!f.isObject(document)||a!==document)||("object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName)))},isEmpty:function(a){var b;if(!f.isDefined(a))return!0;if(f.isFunction(a))return!1;if(f.isString(a))return f.EMPTY_STRING_REGEXP.test(a);if(f.isArray(a))return 0===a.length;if(f.isDate(a))return!1;if(f.isObject(a)){for(b in a)return!1;return!0}return!1},format:f.extend(function(a,b){return f.isString(a)?a.replace(f.format.FORMAT_REGEXP,function(a,c,d){return"%"===c?"%{"+d+"}":String(b[d])}):a},{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(a){return f.isNumber(a)?100*a%1===0?""+a:parseFloat(Math.round(100*a)/100).toFixed(2):f.isArray(a)?a.map(function(a){return f.prettify(a)}).join(", "):f.isObject(a)?a.toString():(a=""+a,a.replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,function(a,b,c){return""+b+" "+c.toLowerCase()}).toLowerCase())},stringifyValue:function(a,b){var c=b&&b.prettify||f.prettify;return c(a)},isString:function(a){return"string"==typeof a},isArray:function(a){return"[object Array]"==={}.toString.call(a)},isHash:function(a){return f.isObject(a)&&!f.isArray(a)&&!f.isFunction(a)},contains:function(a,b){return!!f.isDefined(a)&&(f.isArray(a)?a.indexOf(b)!==-1:b in a)},unique:function(a){return f.isArray(a)?a.filter(function(a,b,c){return c.indexOf(a)==b}):a},forEachKeyInKeypath:function(a,b,c){if(f.isString(b)){var d,e="",g=!1;for(d=0;d<b.length;++d)switch(b[d]){case".":g?(g=!1,e+="."):(a=c(a,e,!1),e="");break;case"\\":g?(g=!1,e+="\\"):g=!0;break;default:g=!1,e+=b[d]}return c(a,e,!0)}},getDeepObjectValue:function(a,b){if(f.isObject(a))return f.forEachKeyInKeypath(a,b,function(a,b){if(f.isObject(a))return a[b]})},collectFormValues:function(a,b){var c,e,g,h,i,j,k={};if(f.isJqueryElement(a)&&(a=a[0]),!a)return k;for(b=b||{},h=a.querySelectorAll("input[name], textarea[name]"),c=0;c<h.length;++c)if(g=h.item(c),!f.isDefined(g.getAttribute("data-ignored"))){var l=g.name.replace(/\./g,"\\\\.");j=f.sanitizeFormValue(g.value,b),"number"===g.type?j=j?+j:null:"checkbox"===g.type?g.attributes.value?g.checked||(j=k[l]||null):j=g.checked:"radio"===g.type&&(g.checked||(j=k[l]||null)),k[l]=j}for(h=a.querySelectorAll("select[name]"),c=0;c<h.length;++c)if(g=h.item(c),!f.isDefined(g.getAttribute("data-ignored"))){if(g.multiple){j=[];for(e in g.options)i=g.options[e],i&&i.selected&&j.push(f.sanitizeFormValue(i.value,b))}else{var m;m=d()>=9?"unknown"!=typeof g.options[g.selectedIndex]?g.options[g.selectedIndex].value:"":"undefined"!=typeof g.options[g.selectedIndex]?g.options[g.selectedIndex].value:"",j=f.sanitizeFormValue(m,b)}k[g.name]=j}return k},sanitizeFormValue:function(a,b){return b.trim&&f.isString(a)&&(a=a.trim()),b.nullify!==!1&&""===a?null:a},capitalize:function(a){return f.isString(a)?a[0].toUpperCase()+a.slice(1):a},pruneEmptyErrors:function(a){return a.filter(function(a){return!f.isEmpty(a.error)})},expandMultipleErrors:function(a){var b=[];return a.forEach(function(a){f.isArray(a.error)?a.error.forEach(function(c){b.push(f.extend({},a,{error:c}))}):b.push(a)}),b},convertErrorMessages:function(a,b){b=b||{};var c=[],d=b.prettify||f.prettify;return a.forEach(function(a){var e=f.result(a.error,a.value,a.attribute,a.options,a.attributes,a.globalOptions);return f.isString(e)?("^"===e[0]?e=e.slice(1):b.fullMessages!==!1&&(e=f.capitalize(d(a.attribute))+" "+e),e=e.replace(/\\\^/g,"^"),e=f.format(e,{value:f.stringifyValue(a.value,b)}),void c.push(f.extend({},a,{error:e}))):void c.push(a)}),c},groupErrorsByAttribute:function(a){var b={};return a.forEach(function(a){var c=b[a.attribute];c?c.push(a):b[a.attribute]=[a]}),b},flattenErrorsToArray:function(a){return a.map(function(a){return a.error}).filter(function(a,b,c){return c.indexOf(a)===b})},cleanAttributes:function(a,b){function c(a,b,c){return f.isObject(a[b])?a[b]:a[b]=!!c||{}}function d(a){var b,d={};for(b in a)a[b]&&f.forEachKeyInKeypath(d,b,c);return d}function e(a,b){if(!f.isObject(a))return a;var c,d,g=f.extend({},a);for(d in a)c=b[d],f.isObject(c)?g[d]=e(g[d],c):c||delete g[d];return g}return f.isObject(b)&&f.isObject(a)?(b=d(b),e(a,b)):{}},exposeModule:function(a,b,c,d,e){c?(d&&d.exports&&(c=d.exports=a),c.validate=a):(b.validate=a,a.isFunction(e)&&e.amd&&e([],function(){return a}))},warn:function(a){"undefined"!=typeof console&&console.warn&&console.warn("[validate.js] "+a)},error:function(a){"undefined"!=typeof console&&console.error&&console.error("[validate.js] "+a)}}),e.validators={presence:function(a,b){if(b=f.extend({},this.options,b),b.allowEmpty!==!1?!f.isDefined(a):f.isEmpty(a))return b.message||this.message||"can't be blank"},length:function(a,b,c){if(f.isDefined(a)){b=f.extend({},this.options,b);var d,e=b.is,g=b.maximum,h=b.minimum,i=b.tokenizer||function(a){return a},j=[];a=i(a);var k=a.length;return f.isNumber(k)?(f.isNumber(e)&&k!==e&&(d=b.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",j.push(f.format(d,{count:e}))),f.isNumber(h)&&k<h&&(d=b.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",j.push(f.format(d,{count:h}))),f.isNumber(g)&&k>g&&(d=b.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",j.push(f.format(d,{count:g}))),j.length>0?b.message||j:void 0):b.message||this.notValid||"has an incorrect length"}},numericality:function(a,b,c,d,e){if(f.isDefined(a)){b=f.extend({},this.options,b);var g,h,i=[],j={greaterThan:function(a,b){return a>b},greaterThanOrEqualTo:function(a,b){return a>=b},equalTo:function(a,b){return a===b},lessThan:function(a,b){return a<b},lessThanOrEqualTo:function(a,b){return a<=b},divisibleBy:function(a,b){return a%b===0}},k=b.prettify||e&&e.prettify||f.prettify;if(f.isString(a)&&b.strict){var l="^-?(0|[1-9]\\d*)";if(b.onlyInteger||(l+="(\\.\\d+)?"),l+="$",!new RegExp(l).test(a))return b.message||b.notValid||this.notValid||this.message||"must be a valid number"}if(b.noStrings!==!0&&f.isString(a)&&!f.isEmpty(a)&&(a=+a),!f.isNumber(a))return b.message||b.notValid||this.notValid||this.message||"is not a number";if(b.onlyInteger&&!f.isInteger(a))return b.message||b.notInteger||this.notInteger||this.message||"must be an integer";for(g in j)if(h=b[g],f.isNumber(h)&&!j[g](a,h)){var m="not"+f.capitalize(g),n=b[m]||this[m]||this.message||"must be %{type} %{count}";i.push(f.format(n,{count:h,type:k(g)}))}return b.odd&&a%2!==1&&i.push(b.notOdd||this.notOdd||this.message||"must be odd"),b.even&&a%2!==0&&i.push(b.notEven||this.notEven||this.message||"must be even"),i.length?b.message||i:void 0}},datetime:f.extend(function(a,b){if(!f.isFunction(this.parse)||!f.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(f.isDefined(a)){b=f.extend({},this.options,b);var c,d=[],e=b.earliest?this.parse(b.earliest,b):NaN,g=b.latest?this.parse(b.latest,b):NaN;return a=this.parse(a,b),isNaN(a)||b.dateOnly&&a%864e5!==0?(c=b.notValid||b.message||this.notValid||"must be a valid date",f.format(c,{value:arguments[0]})):(!isNaN(e)&&a<e&&(c=b.tooEarly||b.message||this.tooEarly||"must be no earlier than %{date}",c=f.format(c,{value:this.format(a,b),date:this.format(e,b)}),d.push(c)),!isNaN(g)&&a>g&&(c=b.tooLate||b.message||this.tooLate||"must be no later than %{date}",c=f.format(c,{date:this.format(g,b),value:this.format(a,b)}),d.push(c)),d.length?f.unique(d):void 0)}},{parse:null,format:null}),date:function(a,b){return b=f.extend({},b,{dateOnly:!0}),f.validators.datetime.call(f.validators.datetime,a,b)},format:function(a,b){(f.isString(b)||b instanceof RegExp)&&(b={pattern:b}),b=f.extend({},this.options,b);var c,d=b.message||this.message||"is invalid",e=b.pattern;if(f.isDefined(a))return f.isString(a)?(f.isString(e)&&(e=new RegExp(b.pattern,b.flags)),c=e.exec(a),c&&c[0].length==a.length?void 0:d):d},inclusion:function(a,b){if(f.isDefined(a)&&(f.isArray(b)&&(b={within:b}),b=f.extend({},this.options,b),!f.contains(b.within,a))){var c=b.message||this.message||"^%{value} is not included in the list";return f.format(c,{value:a})}},exclusion:function(a,b){if(f.isDefined(a)&&(f.isArray(b)&&(b={within:b}),b=f.extend({},this.options,b),f.contains(b.within,a))){var c=b.message||this.message||"^%{value} is restricted";return f.isString(b.within[a])&&(a=b.within[a]),f.format(c,{value:a})}},email:f.extend(function(a,b){b=f.extend({},this.options,b);var c=b.message||this.message||"is not a valid email";if(f.isDefined(a))return f.isString(a)&&this.PATTERN.exec(a)?void 0:c},{PATTERN:/^(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i}),equality:function(a,b,c,d,e){if(f.isDefined(a)){f.isString(b)&&(b={attribute:b}),b=f.extend({},this.options,b);var g=b.message||this.message||"is not equal to %{attribute}";if(f.isEmpty(b.attribute)||!f.isString(b.attribute))throw new Error("The attribute must be a non empty string");var h=f.getDeepObjectValue(d,b.attribute),i=b.comparator||function(a,b){return a===b},j=b.prettify||e&&e.prettify||f.prettify;return i(a,h,b,c,d)?void 0:f.format(g,{attribute:j(b.attribute)})}},url:function(a,b){if(f.isDefined(a)){b=f.extend({},this.options,b);var c=b.message||this.message||"is not a valid url",d=b.schemes||this.schemes||["http","https"],e=b.allowLocal||this.allowLocal||!1,g=b.allowDataUrl||this.allowDataUrl||!1;if(!f.isString(a))return c;var h="^(?:(?:"+d.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",i="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";if(e?i+="?":h+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",h+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+i+")(?::\\d{2,5})?(?:[/?#]\\S*)?$",g){var j="\\w+\\/[-+.\\w]+(?:;[\\w=]+)*",k="[A-Za-z0-9-_.!~\\*'();\\/?:@&=+$,%]*",l="data:(?:"+j+")?(?:;base64)?,"+k;h="(?:"+h+")|(?:^"+l+"$)"}var m=new RegExp(h,"i");return m.exec(a)?void 0:c}},type:f.extend(function(a,b,c,d,e){if(f.isString(b)&&(b={type:b}),f.isDefined(a)){var g=f.extend({},this.options,b),h=g.type;if(!f.isDefined(h))throw new Error("No type was specified");var i;if(i=f.isFunction(h)?h:this.types[h],!f.isFunction(i))throw new Error("validate.validators.type.types."+h+" must be a function.");if(!i(a,g,c,d,e)){var j=b.message||this.messages[h]||this.message||g.message||(f.isFunction(h)?"must be of the correct type":"must be of type %{type}");return f.isFunction(j)&&(j=j(a,b,c,d,e)),f.format(j,{attribute:f.prettify(c),type:h})}}},{types:{object:function(a){return f.isObject(a)&&!f.isArray(a)},array:f.isArray,integer:f.isInteger,number:f.isNumber,string:f.isString,date:f.isDate,"boolean":f.isBoolean},messages:{}})},e.formatters={detailed:function(a){return a},flat:f.flattenErrorsToArray,grouped:function(a){var b;a=f.groupErrorsByAttribute(a);for(b in a)a[b]=f.flattenErrorsToArray(a[b]);return a},constraint:function(a){var b;a=f.groupErrorsByAttribute(a);for(b in a)a[b]=a[b].map(function(a){return a.validator}).sort();return a}},e.exposeModule(e,this,a,b,c)}).call(this,"undefined"!=typeof exports?exports:null,"undefined"!=typeof module?module:null,"undefined"!=typeof define?define:null);
//# sourceMappingURL=validate.min.map
